{"ast":null,"code":"import _objectSpread from\"C:/Users/13039/Documents/GitHub/book-club/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{serverUrl}from\"../Constants\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function BookForm(){const[formData,setFormData]=useState({title:\"\",author:\"\",pages:\"\",meetingDate:\"\",member:\"\",password:\"\"});const validateData=form=>{const{title,author,pages,meetingDate,member,password}=form;// password validation\nif(password!==\"1\"){alert(\"Incorrect password. Please try again.\");return false;}//title validation\nif(!title||!author||!pages||!meetingDate||!member){alert(\"All fields are required.\");return false;}//page number validation\nif(isNaN(pages)||pages<=0){alert(\"Pages must be a positive number.\");return false;}//date validation\nconst datePattern=/^\\d{2}\\/\\d{2}\\/\\d{4}$/;if(!datePattern.test(meetingDate)){alert(\"Meeting date must be in MM/DD/YYYY format.\");return false;}// Member validation\nconst validMembers=[\"monika\",\"shannon\",\"rylei\",\"kevin\",\"peter\",\"derek\"];if(!validMembers.includes(form.member.toLowerCase())){alert(\"Member must be one of the following: Monika, Shannon, Rylei, Kevin, Peter, Derek.\");return false;}return true;};const handleChange=async e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=e=>{e.preventDefault();console.log(\"Form data:\",formData);const validData=validateData(formData);if(validData){fetch(\"http://${serverUrl}/data/books\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)}).then(response=>{if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}return response.json();}).then(data=>{console.log(\"Server response:\",data);alert(\"Form data saved to backend!\");}).catch(error=>console.error(\"Error submitting form:\",error));}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Author:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"author\",value:formData.author,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pages:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pages\",value:formData.pages,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Meeting Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"meetingDate\",placeholder:\"MM/DD/YYYY\",value:formData.meetingDate,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Member:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"member\",value:formData.member,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Psst... what's the password? \\uD83E\\uDD10\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"password\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,children:\"Save\"})]});}","map":{"version":3,"names":["React","useState","serverUrl","jsx","_jsx","jsxs","_jsxs","BookForm","formData","setFormData","title","author","pages","meetingDate","member","password","validateData","form","alert","isNaN","datePattern","test","validMembers","includes","toLowerCase","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","console","log","validData","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","concat","status","json","data","catch","error","onSubmit","children","type","onChange","placeholder","onClick"],"sources":["C:/Users/13039/Documents/GitHub/book-club/client/src/components/BookForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { serverUrl } from \"../Constants\";\r\n\r\nexport function BookForm() {\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    author: \"\",\r\n    pages: \"\",\r\n    meetingDate: \"\",\r\n    member: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const validateData = (form) => {\r\n    const { title, author, pages, meetingDate, member, password } = form;\r\n\r\n    // password validation\r\n    if (password !== \"1\") {\r\n      alert(\"Incorrect password. Please try again.\");\r\n      return false;\r\n    }\r\n\r\n    //title validation\r\n    if (!title || !author || !pages || !meetingDate || !member) {\r\n      alert(\"All fields are required.\");\r\n      return false;\r\n    }\r\n\r\n    //page number validation\r\n    if (isNaN(pages) || pages <= 0) {\r\n      alert(\"Pages must be a positive number.\");\r\n      return false;\r\n    }\r\n\r\n    //date validation\r\n    const datePattern = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\r\n    if (!datePattern.test(meetingDate)) {\r\n      alert(\"Meeting date must be in MM/DD/YYYY format.\");\r\n      return false;\r\n    }\r\n    // Member validation\r\n    const validMembers = [\r\n      \"monika\",\r\n      \"shannon\",\r\n      \"rylei\",\r\n      \"kevin\",\r\n      \"peter\",\r\n      \"derek\",\r\n    ];\r\n\r\n    if (!validMembers.includes(form.member.toLowerCase())) {\r\n      alert(\r\n        \"Member must be one of the following: Monika, Shannon, Rylei, Kevin, Peter, Derek.\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleChange = async (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Form data:\", formData);\r\n    const validData = validateData(formData);\r\n\r\n    if (validData) {\r\n      fetch(\"http://${serverUrl}/data/books\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(formData),\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"Server response:\", data);\r\n          alert(\"Form data saved to backend!\");\r\n        })\r\n        .catch((error) => console.error(\"Error submitting form:\", error));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <label>\r\n        Title:\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={formData.title}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Author:\r\n        <input\r\n          type=\"text\"\r\n          name=\"author\"\r\n          value={formData.author}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Pages:\r\n        <input\r\n          type=\"text\"\r\n          name=\"pages\"\r\n          value={formData.pages}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Meeting Date:\r\n        <input\r\n          type=\"text\"\r\n          name=\"meetingDate\"\r\n          placeholder=\"MM/DD/YYYY\"\r\n          value={formData.meetingDate}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Member:\r\n        <input\r\n          type=\"text\"\r\n          name=\"member\"\r\n          value={formData.member}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <br />\r\n      <label>\r\n        Psst... what's the password? ü§ê\r\n        <input\r\n          type=\"text\"\r\n          name=\"password\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <br />\r\n      <button type=\"submit\" onClick={handleSubmit}>\r\n        Save\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{forwardRef,useState}from\"react\";import{ArchiveCard}from\"./ArchiveCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Archive=/*#__PURE__*/forwardRef((_ref,ref)=>{let{books}=_ref;const[sortBy,setSortBy]=useState(\"date\");const[searchQuery,setSearchQuery]=useState(\"\");function handleSortChange(event){setSortBy(event.target.value);}function handleSearchChange(event){setSearchQuery(event.target.value.toLowerCase());}const filteredBooks=[...books].filter(book=>book.isCurrent===0).sort((a,b)=>{if(sortBy===\"title\")return a.title.localeCompare(b.title);if(sortBy===\"author\")return a.author.localeCompare(b.author);if(sortBy===\"date\")return new Date(a.date)-new Date(b.date);if(sortBy===\"member\")return a.member.localeCompare(b.member);return 0;}).filter(book=>{return book.title.toLowerCase().includes(searchQuery)||book.author.toLowerCase().includes(searchQuery)||book.member.toLowerCase().includes(searchQuery);});return/*#__PURE__*/_jsxs(\"div\",{className:\"archive\",ref:ref,children:[/*#__PURE__*/_jsx(\"header\",{className:\"header arch\",children:\"ARCHIVE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"archive-utilities\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"archive-sort\",className:\"archive-sort-label\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"archive-sort\",className:\"archive-sort\",onChange:handleSortChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"default\",children:\"Sort by\"}),/*#__PURE__*/_jsx(\"option\",{value:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"option\",{value:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"member\",children:\"Member\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"archive-search\",className:\"archive-search-label\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"archive-search\",className:\"archive-search\",placeholder:\"Search archive...\",onChange:handleSearchChange})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"archive-grid\",children:filteredBooks.map(book=>/*#__PURE__*/_jsx(ArchiveCard,{book:book},book.title))})]});});","map":{"version":3,"names":["React","forwardRef","useState","ArchiveCard","jsx","_jsx","jsxs","_jsxs","Archive","_ref","ref","books","sortBy","setSortBy","searchQuery","setSearchQuery","handleSortChange","event","target","value","handleSearchChange","toLowerCase","filteredBooks","filter","book","isCurrent","sort","a","b","title","localeCompare","author","Date","date","member","includes","className","children","htmlFor","id","onChange","type","placeholder","map"],"sources":["C:/Users/13039/Documents/GitHub/book-club/client/src/components/Archive/Archive.jsx"],"sourcesContent":["import React, { forwardRef, useState } from \"react\";\r\nimport { ArchiveCard } from \"./ArchiveCard\";\r\n\r\nexport const Archive = forwardRef(({ books }, ref) => {\r\n  const [sortBy, setSortBy] = useState(\"date\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  function handleSortChange(event) {\r\n    setSortBy(event.target.value);\r\n  }\r\n\r\n  function handleSearchChange(event) {\r\n    setSearchQuery(event.target.value.toLowerCase());\r\n  }\r\n\r\n  const filteredBooks = [...books]\r\n    .filter((book) => book.isCurrent === 0)\r\n    .sort((a, b) => {\r\n      if (sortBy === \"title\") return a.title.localeCompare(b.title);\r\n      if (sortBy === \"author\") return a.author.localeCompare(b.author);\r\n      if (sortBy === \"date\") return new Date(a.date) - new Date(b.date);\r\n      if (sortBy === \"member\") return a.member.localeCompare(b.member);\r\n      return 0;\r\n    })\r\n    .filter((book) => {\r\n      return (\r\n        book.title.toLowerCase().includes(searchQuery) ||\r\n        book.author.toLowerCase().includes(searchQuery) ||\r\n        book.member.toLowerCase().includes(searchQuery)\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div className=\"archive\" ref={ref}>\r\n      <header className=\"header arch\">ARCHIVE</header>\r\n\r\n      <div className=\"archive-utilities\">\r\n        {/* Sort archive by title, author, date, or member */}\r\n        <label htmlFor=\"archive-sort\" className=\"archive-sort-label\"></label>\r\n        <select\r\n          id=\"archive-sort\"\r\n          className=\"archive-sort\"\r\n          onChange={handleSortChange}\r\n        >\r\n          <option value=\"default\">Sort by</option>\r\n          <option value=\"title\">Title</option>\r\n          <option value=\"author\">Author</option>\r\n          <option value=\"date\">Date</option>\r\n          <option value=\"member\">Member</option>\r\n        </select>\r\n        {/* Search archive by title, author, date, or member */}\r\n        <label\r\n          htmlFor=\"archive-search\"\r\n          className=\"archive-search-label\"\r\n        ></label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"archive-search\"\r\n          className=\"archive-search\"\r\n          placeholder=\"Search archive...\"\r\n          onChange={handleSearchChange}\r\n        ></input>\r\n      </div>\r\n\r\n      <ul className=\"archive-grid\">\r\n        {filteredBooks.map((book) => (\r\n          <ArchiveCard book={book} key={book.title} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}